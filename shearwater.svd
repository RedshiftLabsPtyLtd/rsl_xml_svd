<?xml version="1.0" encoding="utf-8"?>



<!--
    Modified by RedShift Labs

  Copyright (C) 2012-2014 ARM Limited. All rights reserved.

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:
   - Redistributions of source code must retain the above copyright
     notice, this list of conditions and the following disclaimer.
   - Redistributions in binary form must reproduce the above copyright
     notice, this list of conditions and the following disclaimer in the
     documentation and/or other materials provided with the distribution.
   - Neither the name of ARM nor the names of its contributors may be used
     to endorse or promote products derived from this software without
     specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL COPYRIGHT HOLDERS AND CONTRIBUTORS BE
  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  POSSIBILITY OF SUCH DAMAGE.
 -->

<device schemaVersion="1.1" xmlns:xs="http://www.w3.org/2001/XMLSchema-instance" xs:noNamespaceSchemaLocation="CMSIS-SVD.xsd" >
  <vendor>RedShift Labs</vendor>                                  <!-- device vendor name -->
  <vendorID>RedshiftLabs</vendorID>                               <!-- device vendor short name -->
  <name>shearwater</name>                                         <!-- name of part-->
  <series>IMU</series>                                            <!-- device series the device belongs to -->
  <version>0.3</version>                                          <!-- version of this description, adding CMSIS-SVD 1.1 tags -->
  <description>Shearwater Board Peripheral Description</description>
  <licenseText>                                                   <!-- this license text will appear in header file. \n force line breaks -->
      Redshift Labs modified this file\n

    ARM Limited (ARM) is supplying this software for use with Cortex-M\n
    processor based microcontroller, but can be equally used for other\n
    suitable  processor architectures. This file can be freely distributed.\n
    Modifications to this file shall be clearly marked.\n
    \n
    THIS SOFTWARE IS PROVIDED "AS IS".  NO WARRANTIES, WHETHER EXPRESS, IMPLIED\n
    OR STATUTORY, INCLUDING, BUT NOT LIMITED TO, IMPLIED WARRANTIES OF\n
    MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE APPLY TO THIS SOFTWARE.\n
    ARM SHALL NOT, IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL, OR\n
    CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.
  </licenseText>
  <addressUnitBits>32</addressUnitBits>                           <!-- byte addressable memory -->
  <width>32</width>                                               <!-- bus width is 32 bits -->

  <!-- default settings implicitly inherited by subsequent sections -->
  <size>32</size>                                                 <!-- this is the default size (number of bits) of all peripherals
                                                                       and register that do not define "size" themselves -->
  <access>read-write</access>                                     <!-- default access permission for all subsequent registers -->
  <resetValue>0x00000000</resetValue>                             <!-- by default all bits of the registers are initialized to 0 on reset -->
  <resetMask>0xFFFFFFFF</resetMask>                               <!-- by default all 32Bits of the registers are used -->

  <peripherals>
    <!-- Fusion Configuration Registers -->
    <peripheral>
      <name>RSL</name>
      <version>0.2</version>
      <description>Fusion Configuration Registers for the shearwater board</description>
      <baseAddress>0x00000000</baseAddress>
      <size>32</size>
      <access>read-write</access>

      <addressBlock>
        <offset>0</offset>
        <size>0x200</size>
        <usage>registers</usage>
      </addressBlock>

      <registers>

      <!-- CREG_COM_SETTINGS: General communication settings -->
        <register>
          <name>CREG_COM_SETTINGS</name>
          <description>The CREG_COM_SETTINGS register is used to set the boards serial port baud rate and to enable (disable) the automatic transmission of sensor data and estimated states (telemetry).</description>
          <addressOffset>0x00</addressOffset>
          <size>32</size>
          <access>read-write</access>
          <resetValue>0x00000000</resetValue>
          <resetMask>0xFFFFFFFF</resetMask>

          <fields>
            <!-- BAUD_RATE: Baud rate -->
            <field>
              <name>BAUD_RATE</name>
              <description>Sets the baud rate of the boards main serial port:</description>
              <bitRange>[31:28]</bitRange>
              <access>read-write</access>
              <enumeratedValues>
                <enumeratedValue>
                  <name>9600</name>
                  <description>Baud rate: 9600</description>
                  <value>0</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>14400</name>
                  <description>Baud rate: 14400</description>
                  <value>1</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>19200</name>
                  <description>Baud rate: 19200</description>
                  <value>2</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>38400</name>
                  <description>Baud rate: 38400</description>
                  <value>3</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>57600</name>
                  <description>Baud rate: 57600</description>
                  <value>4</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>115200</name>
                  <description>Baud rate: 115200</description>
                  <value>5</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>128000</name>
                  <description>Baud rate: 128000</description>
                  <value>6</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>153600</name>
                  <description>Baud rate: 153600</description>
                  <value>7</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>230400</name>
                  <description>Baud rate: 230400</description>
                  <value>8</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>256000</name>
                  <description>Baud rate: 256000</description>
                  <value>9</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>460800</name>
                  <description>Baud rate: 460800</description>
                  <value>10</value>
                </enumeratedValue>
                <enumeratedValue>
                  <name>921600</name>
                  <description>Baud rate: 921600</description>
                  <value>11</value>
                </enumeratedValue>
              </enumeratedValues>
            </field>
          </fields>
        </register>

        <!-- CREG_COM_RATES1: Broadcast rate settings -->
        <register>
          <name>CREG_COM_RATES1</name>
          <description>The CREG_COM_RATES1 register sets desired telemetry transmission rates in Hz for raw accelerometer 1, gyro 1, gyro 2 and magnetometer 1 data. If the specified rate is 0, then no data is transmitted.</description>
          <addressOffset>0x04</addressOffset>
          <size>32</size>
          <access>read-write</access>
          <resetValue>0x00000000</resetValue>
          <resetMask>0xFFFFFFFF</resetMask>

          <fields>
            <!-- RAW_ACCEL_1_RATE: raw accelerometer 1 data broadcast rate -->
            <field>
              <name>RAW_ACCEL_1_RATE</name>
              <description>Specifies the desired raw accelerometer 1 data broadcast rate in Hz. The data is stored as an unsigned 8-bit integer, yielding a maximum rate of 255 Hz.</description>
              <bitRange>[31:24]</bitRange>
              <access>read-write</access>
            </field>

            <!-- RAW_GYRO_1_RATE: raw gyro 1 data broadcast rate -->
            <field>
              <name>RAW_GYRO_1_RATE</name>
              <description>Specifies the desired raw gyro 1 data broadcast rate in Hz. The data is stored as an unsigned 8-bit integer, yielding a maximum rate of 255 Hz</description>
              <bitRange>[23:16]</bitRange>
              <access>read-write</access>
            </field>

            <!-- RAW_GYRO_2_RATE: raw gyro 2 data broadcast rate -->
            <field>
              <name>RAW_GYRO_2_RATE</name>
              <description>Specifies the desired raw gyro 2 data broadcast rate in Hz. The data is stored as an unsigned 8-bit integer, yielding a maximum rate of 255 Hz.</description>
              <bitRange>[15:8]</bitRange>
              <access>read-write</access>
            </field>

            <!-- RAW_MAG_1_RATE: raw magnetometer 1 data broadcast rate -->
            <field>
              <name>RAW_MAG_1_RATE</name>
              <description>Specifies the desired raw magnetometer 1 data broadcast rate in Hz. The data is stored as an unsigned 8-bit integer, yielding a maximum rate of 255 Hz.</description>
              <bitRange>[7:0]</bitRange>
              <access>read-write</access>
            </field>
          </fields>
        </register>

        <!-- CREG_COM_RATES2: Broadcast rate settings -->
        <register>
          <name>CREG_COM_RATES2</name>
          <description>The CREG_COM_RATES2 register sets desired telemetry transmission rates for the magnetometer 2, all raw data, and temperature data rate. The ALL_RAW_RATE setting has higher priority over the individual raw sensor data settings, i.e. whenever this bitfield is set, then the individual raw sensor settings are ignored and not used. If the specified rate is 0, then no data is transmitted.</description>
          <addressOffset>0x08</addressOffset>
          <size>32</size>
          <access>read-write</access>
          <resetValue>0x00000000</resetValue>
          <resetMask>0xFFFFFFFF</resetMask>

          <fields>
            <!-- TEMP_RATE: broadcast rate for temperature data -->
            <field>
              <name>TEMP_RATE</name>
              <description>Specifies the desired broadcast rate for temperature data. The data is stored as an unsigned 8-bit integer, yielding a maximum rate of 255 Hz.</description>
              <bitRange>[31:24]</bitRange>
              <access>read-write</access>
            </field>

            <!-- RAW_MAG_2_RATE: raw magnetometer 2 data broadcast rate -->
            <field>
              <name>RAW_MAG_2_RATE</name>
              <description>Specifies the desired raw magnetometer 2 data broadcast rate in Hz. The data is stored as an unsigned 8-bit integer, yielding a maximum rate of 255 Hz.</description>
              <bitRange>[23:16]</bitRange>
              <access>read-write</access>
            </field>

                        <!-- TEMP_RATE: broadcast rate for temperature data -->
            <field>
              <name>TEMP_RATE</name>
              <description>Specifies the desired broadcast rate for temperature data. The data is stored as an unsigned 8-bit integer, yielding a maximum rate of 255 Hz.</description>
              <bitRange>[31:24]</bitRange>
              <access>read-write</access>
            </field>
          </fields>
        </register>


                <!-- CREG_COM_RATES1: Broadcast rate settings -->
        <register>
          <name>CREG_COM_RATES1</name>
          <description>The CREG_COM_RATES1 register sets desired telemetry transmission rates in Hz for raw accelerometer 1, gyro 1, gyro 2 and magnetometer 1 data. If the specified rate is 0, then no data is transmitted.</description>
          <addressOffset>0x04</addressOffset>
          <size>32</size>
          <access>read-write</access>
          <resetValue>0x00000000</resetValue>
          <resetMask>0xFFFFFFFF</resetMask>

          <fields>
            <!-- RAW_MAG_1_RATE: raw magnetometer 1 data broadcast rate -->
            <field>
              <name>RAW_MAG_1_RATE</name>
              <description>Specifies the desired raw magnetometer 1 data broadcast rate in Hz. The data is stored as an unsigned 8-bit integer, yielding a maximum rate of 255 Hz.</description>
              <bitRange>[7:0]</bitRange>
              <access>read-write</access>
            </field>
          </fields>
        </register>



                <!-- CREG_COM_RATES1: Broadcast rate settings -->
        <register>
          <name>CREG_COM_RATES1</name>
          <description>The CREG_COM_RATES1 register sets desired telemetry transmission rates in Hz for raw accelerometer 1, gyro 1, gyro 2 and magnetometer 1 data. If the specified rate is 0, then no data is transmitted.</description>
          <addressOffset>0x04</addressOffset>
          <size>32</size>
          <access>read-write</access>
          <resetValue>0x00000000</resetValue>
          <resetMask>0xFFFFFFFF</resetMask>

          <fields>
            <!-- RAW_MAG_1_RATE: raw magnetometer 1 data broadcast rate -->
            <field>
              <name>RAW_MAG_1_RATE</name>
              <description>Specifies the desired raw magnetometer 1 data broadcast rate in Hz. The data is stored as an unsigned 8-bit integer, yielding a maximum rate of 255 Hz.</description>
              <bitRange>[7:0]</bitRange>
              <access>read-write</access>
            </field>
          </fields>
        </register>


                <!-- CREG_COM_RATES1: Broadcast rate settings -->
        <register>
          <name>CREG_COM_RATES1</name>
          <description>The CREG_COM_RATES1 register sets desired telemetry transmission rates in Hz for raw accelerometer 1, gyro 1, gyro 2 and magnetometer 1 data. If the specified rate is 0, then no data is transmitted.</description>
          <addressOffset>0x04</addressOffset>
          <size>32</size>
          <access>read-write</access>
          <resetValue>0x00000000</resetValue>
          <resetMask>0xFFFFFFFF</resetMask>

          <fields>
            <!-- RAW_MAG_1_RATE: raw magnetometer 1 data broadcast rate -->
            <field>
              <name>RAW_MAG_1_RATE</name>
              <description>Specifies the desired raw magnetometer 1 data broadcast rate in Hz. The data is stored as an unsigned 8-bit integer, yielding a maximum rate of 255 Hz.</description>
              <bitRange>[7:0]</bitRange>
              <access>read-write</access>
            </field>
          </fields>
        </register>

      </registers>
    </peripheral>
  </peripherals>
</device>
